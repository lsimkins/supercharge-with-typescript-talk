<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>TypeScript</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">
		<link rel="stylesheet" href="css/main.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">
		<link rel="stylesheet" href="lib/css/prism.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<img id="ts-logo" src="./ts.png" />
			<div class="slides">
				<section data-markdown>
					<script type="text/template">
						# TypeScript
						## (Supercharge your JavaScript)
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Who am I?

						- Luke Simkins
						- Developer at Oseberg, Inc.
						- TypeScript, JavaScript, Scala
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Goals of this Talk
						- Basic Overview of TypeScript Features
						- Advantages and Disadvantages of TypeScript
						- Provide enough knowledge for you to decide whether TypeScript is appropriate for your project.
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## First, a little background...
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Last year, I tweeted this.
						<img style="width: 50%;" src="./Tweet.png" />
						<p class="fragment"> To all static typed language lovers...I'm sorry.</p>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						This is not about whether dynamic vs static typed languages are better.
						It's about choosing which tool is right for your project & your team.
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						# 1. What is TypeScript?
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Superset of JavaScript

						<ul>
							<li class="fragment">
								The core rules of the language are the same.
								<ul>
									<li>Scoping, variable declaration, first class functions, etc.</li>
								</ul>
							</li>
							<li class="fragment">TypeScript adds a *optional* strong, static type system to JavaScript</li>
							<li class="fragment">Compiles to plain JavaScript</li>
							<li class="fragment">JavaScript is valid TypeScript (sorta)</li>
						</ul>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						##JavaScript is Dynamically Typed

						<ul>
							<li class="fragment">Type information inferred at runtime</li>
							<li class="fragment">Offers greater flexiblity</li>
							<li class="fragment">Runtime errors</li>
						</ul>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						##TypeScript Adds Static Type Checking

						<ul>
							<li class="fragment">Types are checked at compile time</li>
							<li class="fragment">Strict</li>
							<li class="fragment">Compile Time Errors</li>
						</ul>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						# 2. How Does it Work?
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						### What you Need to Get Started
						1. Install TypeScript Compiler

						<pre class="language-bash"><code class="language-bash">
							npm install -g typescript
						</code></pre>

						<pre class="language-bash"><code class="language-bash">
							tsc index.ts
							# Outputs index.js
						</code></pre>

						<p class="fragment">That's it!</p>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						### What you Need (Larger Projects)
						tsconfig.json

						<pre class="language-bash"><code class="language-bash">
							tsc --init
						</code></pre>
						<pre class="language-json"><code class="language-json">
							{
							    "compilerOptions": {
							        "module": "commonjs",
							        "target": "es5",
							        "noImplicitAny": false,
							        "sourceMap": false
							    },
							    "exclude": [
							        "node_modules"
							    ]
							}
						</code></pre>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Writing TypeScript
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Variable Declarations
						<pre class="language-typescript"><code class="language-typescript">
							const someConstant = 'someConstant';
							var someVariable = 'someVariable';
							let someBlockScopedVariable = 'someBlockScopedVariable';
						</code></pre>
						<p class="fragment">Yep, exactly like JavaScript.</p>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Basic type declarations
						<pre class="language-typescript"><code class="language-typescript">
							const myBool: boolean = true;
							const myNumber: number = 3.1415;
							const myString: string = 'string';
							const anyType: any = 'I can be anything!';
						</code></pre>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Arrays

						<pre class="language-typescript"><code class="language-typescript">
							const myArray: number[] = [0,1,2,3,4,5];
						</code></pre>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Void

						<pre class="language-typescript"><code class="language-typescript">
							function alert(msg): void {
						    alert(msg);
							}
						</code></pre>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Type Inference

						<pre class="language-typescript"><code class="language-typescript">
							const boo = true; // Compiler knows this is a boolean.
							const str = 'string'; // Compiler knows this is a string.
						</code></pre>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Function Declaration

						<pre class="language-typescript"><code class="language-typescript">
							function concatenate(param1: string, param2: string): string {
								return param1 + param2;
							}

							// returns 'javascript-typescript'
							concatenate('javascript', '-typescript');
						</code></pre>

						<pre class="fragment language-typescript"><code class="language-typescript">
							// Compiler error
							// concatenate.ts(9,27): Argument of type 'number' is not assignable to parameter of type 'string'.
							concatenate('javascript', 1);
						</code></pre>

						<pre class="fragment language-typescript"><code class="language-typescript">
							// Compiler error
							// concatenate.ts(8,1): Supplied parameters do not match any signature of call target.
							concatenate('javascript');
						</code></pre>

						<p class="fragment">The compiler will enforce your api and prevent runtime errors.</p>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Function Type Signatures

						<pre class="language-javascript"><code class="language-javascript">
							var callback: (err: string | null, result: number) => void;

							callback = function(err, result) {
								// do something with result
							}
						</code></pre>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Function Type Signatures

						<pre class="language-javascript"><code class="language-javascript">
							// javascript
							function readFile(file, cb) {
								// what is "file"?
								// what is "cb"?
							}
						</code></pre>

						<pre class="fragment language-javascript"><code class="language-javascript">
							// typescript
							function readFile(file: string, cb: (err: string | null, contents: Buffer) => void) {
								// ...
							}
						</code></pre>

						<p class="fragment">
							Good type signatures enhance code reability by documenting your
							api for developers reading your source code.
						</p>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Interfaces in TypeScript

						- Describe a type <!-- .element: class="fragment" -->
						- Similar to a class, except they don't include an implementation <!-- .element: class="fragment" -->
						- Interfaces offer you a way to define a contracts in your code. They <!-- .element: class="fragment" -->
							document the shape of objects and types. <!-- .element: class="fragment" -->
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Interfaces

						<pre class="language-typescript"><code class="language-typescript">
							interface LightBoxOptions {
								image: string;
								width?: number;
								height?: number;
								animation?: 'fade' | 'slide' | 'none'
							}

							lightbox.initialize({image: 'kitting.png'});

							// Whoops, the compiler will alert you of your mistake.
							lightbox.initialize({img: 'kitten.png'});
						</code></pre>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Inferfaces

						<pre class="language-javascript"><code class="language-javascript">
							interface ReadFileCallback {
								(err: string, file: Buffer) => void
							}
							function readFile(path: string, cb: ReadFileCallback) {
								// ...
							}
						</code></pre>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Interfaces
						<pre class="language-typescript"><code class="language-typescript">
							interface HttpRequestHeaders {
								accept: string;
								acceptEncoding: string;
								cookie?: string; // "?" denotes this property is optional
								contentType: string;
								origin: string;
							}

							function makeGETRequest(url: string, headers: HttpRequestHeaders) {
								// ...
							}

							makeGETRequest(
								'http://freekittens.com',
								{
									accept: 'text/plain',
									acceptEncoding: 'utf-8',
									contentType: 'multipart/form-data',
									origin: 'http://needakitten.me'
								}
							);
						</code></pre>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Class Declaration

						<pre class="language-typescript"><code class="language-typescript">
							class Person {
								name: string;
								private age: number;

								constructor(name: string, age: number) {
									this.name = name;
									this.age = age;
								}
							}
						</code></pre>

						<pre class="fragment language-typescript"><code class="language-typescript">
							// Same as above
							class Person {
								name: string;

								constructor(name: string, private age: number) {
									this.name = name;
									// age is automatically assigned to this.age
								}
							}
						</code></pre>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Modules
						<pre class="language-typescript"><code class="language-typescript">
							// config.ts
							export module Config {
							  // export module contents
								export const name = 'servername';
								export const port = 80;
							}

							// Usage
							import { Config } from './config';
							Config.name; // 'servername'
							Config.port; // 80
						</code></pre>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Modules
						<pre class="language-typescript"><code class="language-typescript">
							// vectorUtils.ts
							export module VectorUtils {
							  export function normalize(vector: number[]) {
							    const magnitude = VectorUtils.magnitude(vector);
							    return vector.map(n => n/magnitude);
							  }

							  export function magnitude(vector: number[]) {
							    return Math.sqrt(
							      vector.map(Math.pow)
											.reduce((a, b) => a + b)
							    );
							  }
							}

							// Usage
							import { VectorUtils } from './vectorUtils.ts';
							VectorUtils.normalize([1,2,3]);
							// Outputs [ 0.288, 0.577, 0.866 ]
						</code></pre>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Advanced Types
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Union Types
						Describes a value that can be one of several types.
						<pre class="language-typescript"><code class="language-typescript">
							const one: number | string = 1;
							const color: 'Red' | 'Blue' = 'Blue';
						</code></pre>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Union Types
						<pre class="language-javascript"><code class="language-javascript">
							function readFile(
								file: string | number | Buffer,
								cb: ReadFileCallback
							) {
								// ...
							}
						</code></pre>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Intersection Types
						Combines multiple types into one. Usually used for mixins, which allows for class composition.

						<pre class="language-typescript"><code class="language-typescript">
							function extend&#60;T, U&#62;(first: T, second: U): T & U {
								let result = &#60;T & U&#62;{};
								for (let id in first) {
									(&#60;any&#62;result)[id] = (&#60;any&#62;first)[id];
								}
								for (let id in second) {
									if (!result.hasOwnProperty(id)) {
										(&#60;any&#62;result)[id] = (&#60;any&#62;second)[id];
									}
								}
							}
						</code></pre>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Non-nullable types
						<pre class="language-json"><code class="language-json">
							{
							    "compilerOptions": {
							        "strictNullChecks": true
							        // ...
							    }
							}
						</code></pre>
						<pre class="language-typescript"><code class="language-typescript">
							const myNumber: number = undefined; // Throws a compiler error.
						</code></pre>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Generics
						Generics allow you to create components that work with a variety
						of types rather than a single one.
						<pre class="language-typescript"><code class="language-typescript">
							class Node&#60;T&#62; {
								parent?: Node&#60;T&#62;;
								children: Node&#60;T&#62;[];
							}

							class Tree&#60;T&#62; {
								root: Node&#60;T&#62;
							}

							const ceo = new Node&#60;Person&#62;({ children: employees });
							const orgChart = new Tree&#60;Person&#62;({ root: ceo })
						</code></pre>
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## 3. Advantages
						- Compile Time Errors <!-- .element: class="fragment" -->
						- Tooling Benefits (Code Editor) <!-- .element: class="fragment" -->
							- Code hinting
						- Documentation of Source Code <!-- .element: class="fragment" -->
						- Improved Maintainability of Large Projects <!-- .element: class="fragment" -->
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## 3. Disadvantages
						- Third Party Types <!-- .element: class="fragment" -->
						- Compile Step <!-- .element: class="fragment" -->
						- "Making the Compiler Happy" <!-- .element: class="fragment" -->
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Questions?
					</script>
				</section>

			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>
		<script src="lib/js/prism.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,
				transition: 'none',

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
